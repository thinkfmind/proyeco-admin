{"ast":null,"code":"var _jsxFileName = \"/Users/augusto/Desktop/proyeco-front/src/components/users/table/equipos.js\",\n    _s = $RefreshSig$();\n\nimport { CalendarIcon, ChevronDownIcon } from \"@heroicons/react/outline\";\nimport { DownloadIcon } from \"@heroicons/react/solid\";\nimport { forwardRef, useEffect, useState } from \"react\";\nimport DatePicker from \"react-datepicker\";\nimport axios from \"axios\";\nimport { compareAsc } from \"date-fns\";\nimport { useSelector } from \"react-redux\";\nimport Row from \"./row\";\nimport useFetch from \"../../../hooks/useFetch\";\nimport { states } from \"../../../helpers/equipment\";\nimport { getValue } from \"../../../helpers/table\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { backendUrl } from \"../../../config\";\nimport { tiposEquipos } from \"../../../helpers/staticData\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Table = _ref => {\n  _s();\n\n  let {\n    data,\n    pagination,\n    maxCantRow,\n    changeData,\n    sendToTrash\n  } = _ref;\n  const userSelector = useSelector(store => store.user);\n  const [isAllEquip, setIsAllEquip] = useState(false);\n  const [startDate, setStartDate] = useState(new Date());\n  const [endDate, setEndDate] = useState(null);\n  const [filtroEmpresa, setFiltroEmpresa] = useState(null);\n  const [filtroTipo, setFiltroTipo] = useState(null);\n  const [filtroLinea, setFiltroLinea] = useState(null);\n  const [filtroEstado, setFiltroEstado] = useState(null);\n  const [filtroStart, setFiltroStart] = useState(null);\n  const [filtroEnd, setFiltroEnd] = useState(null);\n  const {\n    response: responseLinea\n  } = useFetch({\n    url: `${backendUrl}/linea`,\n    options: {\n      headers: {\n        Authorization: `Bearer ${userSelector.user.jwtToken}`\n      }\n    },\n    initData: []\n  });\n  const {\n    response: responseUsers\n  } = useFetch({\n    url: `${backendUrl}/user`,\n    options: {\n      headers: {\n        Authorization: `Bearer ${userSelector.user.jwtToken}`\n      }\n    },\n    initData: []\n  });\n  const {\n    response: responseEquipo\n  } = useFetch({\n    url: `${backendUrl}/equipo`,\n    options: {\n      headers: {\n        Authorization: `Bearer ${userSelector.user.jwtToken}`\n      }\n    }\n  });\n  const [empresas, setEmpresas] = useState([]);\n\n  const handleClickAllCheck = () => {\n    setIsAllEquip(!isAllEquip);\n  };\n\n  const handleFilterTable = (property, value, start, end) => {\n    let dataFiltered = responseEquipo;\n\n    if (filtroEmpresa || property === 'Empresa') {\n      if (property === 'Empresa') {\n        if (value !== 'blank') {\n          dataFiltered = [...dataFiltered].filter(equipo => {\n            return equipo.empresa.name === value;\n          });\n        }\n      } else {\n        if (filtroTipo !== 'blank') {\n          dataFiltered = [...dataFiltered].filter(equipo => {\n            return equipo.empresa.name === filtroEmpresa;\n          });\n        }\n      }\n    }\n\n    if (filtroTipo || property === 'Tipo') {\n      if (property === 'Tipo') {\n        if (value !== 'blank') {\n          dataFiltered = [...dataFiltered].filter(equipo => {\n            return equipo.tipo === value;\n          });\n        }\n      } else {\n        if (filtroTipo !== 'blank') {\n          dataFiltered = [...dataFiltered].filter(equipo => {\n            return equipo.tipo === filtroTipo;\n          });\n        }\n      }\n    }\n\n    if (filtroLinea || property === 'Linea') {\n      if (property === 'Linea') {\n        if (value !== 'blank') {\n          dataFiltered = [...dataFiltered].filter(equipo => {\n            return equipo.linea.id === value;\n          });\n        }\n      } else {\n        if (filtroLinea !== 'blank') {\n          dataFiltered = [...dataFiltered].filter(equipo => {\n            return equipo.linea.id === filtroLinea;\n          });\n        }\n      }\n    }\n\n    if (filtroEstado || property === 'Estado') {\n      if (property === 'Estado') {\n        if (value !== 'blank') {\n          dataFiltered = [...dataFiltered].filter(equipo => {\n            return equipo.estado === value;\n          });\n        }\n      } else {\n        if (filtroEstado !== 'blank') {\n          dataFiltered = [...dataFiltered].filter(equipo => {\n            return equipo.estado === filtroEstado;\n          });\n        }\n      }\n    }\n\n    if (start && end) {\n      dataFiltered = [...dataFiltered].filter(equipo => {\n        const equipDate = new Date(equipo.createdAt);\n\n        if (compareAsc(equipDate, start.setHours(0, 0, 0, 0)) === -1) {\n          return false;\n        }\n\n        if (compareAsc(end.setHours(23, 59, 59), equipDate) === -1) {\n          return false;\n        }\n\n        return equipo;\n      });\n    } else {\n      if (filtroStart !== 'blank' && filtroEnd !== 'blank') {\n        dataFiltered = [...dataFiltered].filter(equipo => {\n          const equipDate = new Date(equipo.createdAt);\n\n          if (compareAsc(equipDate, filtroStart.setHours(0, 0, 0, 0)) === -1) {\n            return false;\n          }\n\n          if (compareAsc(filtroEnd.setHours(23, 59, 59), equipDate) === -1) {\n            return false;\n          }\n\n          return equipo;\n        });\n      }\n    }\n\n    changeData(dataFiltered);\n  };\n\n  const handleFiltroEstado = value => {\n    const val = value ? value : 'blank';\n    setFiltroEstado(val);\n    handleFilterTable('Estado', val);\n  };\n\n  const handleFiltroEmpresa = value => {\n    const val = value ? value : 'blank';\n    setFiltroEmpresa(val);\n    handleFilterTable('Empresa', val);\n  };\n\n  const handleFiltroTipo = value => {\n    const val = value ? value : 'blank';\n    setFiltroTipo(val);\n    handleFilterTable('Tipo', val);\n  };\n\n  const handleFiltroLinea = value => {\n    const val = value ? value : 'blank';\n    setFiltroLinea(val);\n    handleFilterTable('Linea', val);\n  };\n\n  const handleClickDownloadZip = () => {\n    const inputsDownloadZip = document.querySelectorAll(\".input-check-downloadZip\");\n    const inputsDownloadTrue = Array.prototype.filter.call(inputsDownloadZip, input => input.checked);\n\n    if (data) {\n      const idsToDownload = data.filter(user => {\n        return inputsDownloadTrue.find(input => input.value === user.id);\n      });\n      let keys = [];\n\n      for (let el of idsToDownload) {\n        if (el.historico) keys.push({\n          filename: el.historico\n        });\n      }\n\n      axios({\n        url: `${backendUrl}/historico/zip`,\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${userSelector.user.jwtToken}`\n        },\n        data: {\n          keys: keys\n        },\n        responseType: \"blob\" // important\n\n      }).then(_ref2 => {\n        let {\n          data\n        } = _ref2;\n        const downloadUrl = window.URL.createObjectURL(new Blob([data], {\n          type: \"application/zip\"\n        }));\n        const link = document.createElement(\"a\");\n        link.href = downloadUrl;\n        link.setAttribute(\"download\", \"file.zip\"); //any other extension\n\n        document.body.appendChild(link);\n        link.click();\n        link.remove();\n      });\n    }\n  };\n\n  const onChangeDate = dates => {\n    const [start, end] = dates;\n    setStartDate(start);\n    setEndDate(end);\n\n    if (start && end) {\n      const star = start ? start : 'blank';\n      const en = end ? end : 'blank';\n      setFiltroStart(star);\n      setFiltroEnd(en);\n      handleFilterTable(null, null, start, end);\n    } // if (!end) {\n    //   handleFilterTable();\n    // }\n\n  };\n\n  useEffect(() => {\n    if (responseUsers.length) {\n      const empresas = [];\n\n      for (let i = 0; i < responseUsers.length; i++) {\n        const user = responseUsers[i];\n\n        if (user.role.toUpperCase() === \"EMPRESA\") {\n          if (!empresas.find(empresa => empresa === user.name)) {\n            empresas.push(user.name);\n          }\n        }\n      }\n\n      setEmpresas(empresas);\n    }\n  }, [responseUsers]);\n  const CustomInputDate = /*#__PURE__*/forwardRef((_ref3, ref) => {\n    let {\n      value,\n      onClick\n    } = _ref3;\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      ref: ref,\n      onClick: onClick,\n      className: \"relative flex items-center text-sm font-objetive-bold text-app-green-3\",\n      children: [/*#__PURE__*/_jsxDEV(CalendarIcon, {\n        className: \"w-6 h-6 mr-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: endDate ? value : \"Fecha de mantenimiento\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ChevronDownIcon, {\n        className: \"w-4 h-4 ml-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 7\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"mt-10 mb-6 text-xl font-objetive-bold\",\n      children: \"Listado de equipos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between mt-6 mb-14\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleClickAllCheck,\n          type: \"checkbox\",\n          className: \"mb-1 bg-gray-400 border-2 rounded-sm input-check-downloadZip\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          onChange: e => handleFiltroEmpresa(e.target.value),\n          className: \"text-sm text-center border-none font-objetive-bold text-app-green-3 hover:cursor-pointer\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Empresa a cargo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 13\n          }, this), empresas.map(empresa => {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: empresa,\n              children: empresa\n            }, `empresa-${empresa}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 17\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: /*#__PURE__*/_jsxDEV(\"select\", {\n          onChange: e => handleFiltroTipo(e.target.value),\n          className: \"text-sm text-center border-none font-objetive-bold text-app-green-3 hover:cursor-pointer\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Tipo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this), tiposEquipos.map(equipo => {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: equipo.id,\n              children: equipo.name\n            }, `equipo-${equipo.id}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 17\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: /*#__PURE__*/_jsxDEV(\"select\", {\n          onChange: e => handleFiltroLinea(e.target.value),\n          className: \"text-sm text-center border-none font-objetive-bold text-app-green-3 hover:cursor-pointer\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"L\\xEDnea\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this), responseLinea && responseLinea.map(linea => {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: linea.id,\n              children: linea.name\n            }, `linea-${linea.id}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 19\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: /*#__PURE__*/_jsxDEV(\"select\", {\n          onChange: e => handleFiltroEstado(e.target.value),\n          className: \"w-40 text-sm text-center truncate border-none font-objetive-bold text-app-green-3 hover:cursor-pointer\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Estado de equipo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 13\n          }, this), states.map(state => {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: state,\n              children: state\n            }, `estado-${state}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 17\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: /*#__PURE__*/_jsxDEV(DatePicker, {\n          selected: startDate,\n          onChange: onChangeDate,\n          selectsRange: true,\n          startDate: startDate,\n          endDate: endDate,\n          customInput: /*#__PURE__*/_jsxDEV(CustomInputDate, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 26\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center mb-2\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleClickDownloadZip,\n          className: \"relative px-10 py-2 text-sm rounded-full font-objetive-medium bg-app-green-1 text-app-green-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute top-0 bottom-0 flex items-center -left-1\",\n            children: /*#__PURE__*/_jsxDEV(DownloadIcon, {\n              className: \"w-8 h-8 p-1 text-white rounded-full bg-app-green-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"-mb-1\",\n            children: \"Descargar .ZIP\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 7\n    }, this), data && data.map((user, index) => {\n      if (index < maxCantRow * pagination && index >= pagination * maxCantRow - maxCantRow) {\n        return /*#__PURE__*/_jsxDEV(Row, {\n          user: user,\n          index: index,\n          isChecked: isAllEquip,\n          sendToTrash: sendToTrash\n        }, index + user.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 15\n        }, this);\n      }\n\n      return null;\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 267,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Table, \"XL1AWSmJTcWHR7yu092xc6tH3Y4=\", false, function () {\n  return [useSelector, useFetch, useFetch, useFetch];\n});\n\n_c = Table;\nexport default Table;\n\nvar _c;\n\n$RefreshReg$(_c, \"Table\");","map":{"version":3,"sources":["/Users/augusto/Desktop/proyeco-front/src/components/users/table/equipos.js"],"names":["CalendarIcon","ChevronDownIcon","DownloadIcon","forwardRef","useEffect","useState","DatePicker","axios","compareAsc","useSelector","Row","useFetch","states","getValue","backendUrl","tiposEquipos","Table","data","pagination","maxCantRow","changeData","sendToTrash","userSelector","store","user","isAllEquip","setIsAllEquip","startDate","setStartDate","Date","endDate","setEndDate","filtroEmpresa","setFiltroEmpresa","filtroTipo","setFiltroTipo","filtroLinea","setFiltroLinea","filtroEstado","setFiltroEstado","filtroStart","setFiltroStart","filtroEnd","setFiltroEnd","response","responseLinea","url","options","headers","Authorization","jwtToken","initData","responseUsers","responseEquipo","empresas","setEmpresas","handleClickAllCheck","handleFilterTable","property","value","start","end","dataFiltered","filter","equipo","empresa","name","tipo","linea","id","estado","equipDate","createdAt","setHours","handleFiltroEstado","val","handleFiltroEmpresa","handleFiltroTipo","handleFiltroLinea","handleClickDownloadZip","inputsDownloadZip","document","querySelectorAll","inputsDownloadTrue","Array","prototype","call","input","checked","idsToDownload","find","keys","el","historico","push","filename","method","responseType","then","downloadUrl","window","URL","createObjectURL","Blob","type","link","createElement","href","setAttribute","body","appendChild","click","remove","onChangeDate","dates","star","en","length","i","role","toUpperCase","CustomInputDate","ref","onClick","e","target","map","state","index"],"mappings":"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","sourcesContent":["import { CalendarIcon, ChevronDownIcon } from \"@heroicons/react/outline\";\nimport { DownloadIcon } from \"@heroicons/react/solid\";\nimport { forwardRef, useEffect, useState } from \"react\";\nimport DatePicker from \"react-datepicker\";\nimport axios from \"axios\";\nimport { compareAsc } from \"date-fns\";\nimport { useSelector } from \"react-redux\";\nimport Row from \"./row\";\nimport useFetch from \"../../../hooks/useFetch\";\nimport { states } from \"../../../helpers/equipment\";\nimport { getValue } from \"../../../helpers/table\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { backendUrl } from \"../../../config\";\nimport { tiposEquipos } from \"../../../helpers/staticData\";\n\nconst Table = ({ data, pagination, maxCantRow, changeData, sendToTrash }) => {\n  const userSelector = useSelector((store) => store.user);\n  const [isAllEquip, setIsAllEquip] = useState(false);\n  const [startDate, setStartDate] = useState(new Date());\n  const [endDate, setEndDate] = useState(null);\n  const [filtroEmpresa, setFiltroEmpresa] = useState(null);\n  const [filtroTipo, setFiltroTipo] = useState(null);\n  const [filtroLinea, setFiltroLinea] = useState(null);\n  const [filtroEstado, setFiltroEstado] = useState(null);\n  const [filtroStart, setFiltroStart] = useState(null);\n  const [filtroEnd, setFiltroEnd] = useState(null);\n\n  const { response: responseLinea } = useFetch({\n    url: `${backendUrl}/linea`,\n    options: {\n      headers: {\n        Authorization: `Bearer ${userSelector.user.jwtToken}`,\n      },\n    },\n    initData: [],\n  });\n  const { response: responseUsers } = useFetch({\n    url: `${backendUrl}/user`,\n    options: {\n      headers: {\n        Authorization: `Bearer ${userSelector.user.jwtToken}`,\n      },\n    },\n    initData: [],\n  });\n  const { response: responseEquipo } = useFetch({\n    url: `${backendUrl}/equipo`,\n    options: {\n      headers: {\n        Authorization: `Bearer ${userSelector.user.jwtToken}`,\n      },\n    },\n  });\n  const [empresas, setEmpresas] = useState([]);\n\n  const handleClickAllCheck = () => {\n    setIsAllEquip(!isAllEquip);\n  };\n\n  const handleFilterTable = (property, value, start, end) => {\n    let dataFiltered = responseEquipo;\n\n    if (filtroEmpresa || property === 'Empresa') {\n      if(property === 'Empresa') {\n        if(value !== 'blank') {\n          dataFiltered = [...dataFiltered].filter((equipo) => {\n            return equipo.empresa.name === value;\n          });\n        }\n      } else {\n        if(filtroTipo !== 'blank') {\n          dataFiltered = [...dataFiltered].filter((equipo) => {\n            return equipo.empresa.name === filtroEmpresa;\n          });\n        }\n      }\n    }\n\n    if (filtroTipo || property === 'Tipo') {\n      if(property === 'Tipo') {\n        if(value !== 'blank') {\n          dataFiltered = [...dataFiltered].filter((equipo) => {\n            return equipo.tipo === value;\n          });\n        }\n      } else {\n        if(filtroTipo !== 'blank') {\n          dataFiltered = [...dataFiltered].filter((equipo) => {\n            return equipo.tipo === filtroTipo;\n          });\n        }\n      }\n    }\n\n    if (filtroLinea || property === 'Linea') {\n      if(property === 'Linea') {\n        if(value !== 'blank') {\n          dataFiltered = [...dataFiltered].filter((equipo) => {\n            return equipo.linea.id === value;\n          });\n        }\n      } else {\n        if(filtroLinea !== 'blank') {\n          dataFiltered = [...dataFiltered].filter((equipo) => {\n            return equipo.linea.id === filtroLinea;\n          });\n        }\n      }\n      \n    }\n\n    if (filtroEstado || property === 'Estado') {\n      if(property === 'Estado') {\n        if(value !== 'blank') {\n          dataFiltered = [...dataFiltered].filter((equipo) => {\n            return equipo.estado === value;\n          });\n        }\n      } else {\n        if(filtroEstado !== 'blank') {\n          dataFiltered = [...dataFiltered].filter((equipo) => {\n            return equipo.estado === filtroEstado;\n          });\n        }\n      }\n\n    }\n\n    if (start && end) {\n      dataFiltered = [...dataFiltered].filter((equipo) => {\n        const equipDate = new Date(equipo.createdAt);\n        if (compareAsc(equipDate, start.setHours(0, 0, 0, 0)) === -1) {\n          return false;\n        }\n        if (compareAsc(end.setHours(23, 59, 59), equipDate) === -1) {\n          return false;\n        }\n        return equipo;\n      });\n    } else {\n      if(filtroStart !== 'blank' && filtroEnd !== 'blank') {\n        dataFiltered = [...dataFiltered].filter((equipo) => {\n          const equipDate = new Date(equipo.createdAt);\n          if (compareAsc(equipDate, filtroStart.setHours(0, 0, 0, 0)) === -1) {\n            return false;\n          }\n          if (compareAsc(filtroEnd.setHours(23, 59, 59), equipDate) === -1) {\n            return false;\n          }\n          return equipo;\n        });\n      }\n    }\n\n    changeData(dataFiltered);\n  };\n\n  const handleFiltroEstado = (value) => {\n    const val = value ? value : 'blank';\n    setFiltroEstado(val);\n    handleFilterTable('Estado', val);\n  };\n\n  const handleFiltroEmpresa = (value) => {\n    const val = value ? value : 'blank';\n    setFiltroEmpresa(val);\n    handleFilterTable('Empresa', val);\n  };\n\n  const handleFiltroTipo = (value) => {\n    const val = value ? value : 'blank';\n    setFiltroTipo(val);\n    handleFilterTable('Tipo', val);\n  };\n\n  const handleFiltroLinea = (value) => {\n    const val = value ? value : 'blank';\n    setFiltroLinea(val);\n    handleFilterTable('Linea', val);\n  };\n\n  const handleClickDownloadZip = () => {\n    const inputsDownloadZip = document.querySelectorAll(\n      \".input-check-downloadZip\"\n    );\n    const inputsDownloadTrue = Array.prototype.filter.call(\n      inputsDownloadZip,\n      (input) => input.checked\n    );\n    if (data) {\n      const idsToDownload = data.filter((user) => {\n        return inputsDownloadTrue.find((input) => input.value === user.id);\n      });\n      let keys = [];\n      for (let el of idsToDownload) {\n        if (el.historico) keys.push({ filename: el.historico });\n      }\n\n      axios({\n        url: `${backendUrl}/historico/zip`,\n        method: \"POST\",\n        headers: { Authorization: `Bearer ${userSelector.user.jwtToken}` },\n        data: {\n          keys: keys,\n        },\n        responseType: \"blob\", // important\n      }).then(({ data }) => {\n        const downloadUrl = window.URL.createObjectURL(\n          new Blob([data], { type: \"application/zip\" })\n        );\n        const link = document.createElement(\"a\");\n        link.href = downloadUrl;\n        link.setAttribute(\"download\", \"file.zip\"); //any other extension\n        document.body.appendChild(link);\n        link.click();\n        link.remove();\n      });\n    }\n  };\n\n  const onChangeDate = (dates) => {\n    const [start, end] = dates;\n    setStartDate(start);\n    setEndDate(end);\n    if (start && end) {\n      const star = start ? start : 'blank'\n      const en = end ? end : 'blank'\n      setFiltroStart(star)\n      setFiltroEnd(en)\n      handleFilterTable(null, null, start, end);\n    }\n    // if (!end) {\n    //   handleFilterTable();\n    // }\n  };\n\n  useEffect(() => {\n    if (responseUsers.length) {\n      const empresas = [];\n      for (let i = 0; i < responseUsers.length; i++) {\n        const user = responseUsers[i];\n        if (user.role.toUpperCase() === \"EMPRESA\") {\n          if (!empresas.find((empresa) => empresa === user.name)) {\n            empresas.push(user.name);\n          }\n        }\n      }\n      setEmpresas(empresas);\n    }\n  }, [responseUsers]);\n\n  const CustomInputDate = forwardRef(({ value, onClick }, ref) => {\n    return (\n      <button\n        ref={ref}\n        onClick={onClick}\n        className=\"relative flex items-center text-sm font-objetive-bold text-app-green-3\"\n      >\n        <CalendarIcon className=\"w-6 h-6 mr-1\" />\n        <p>{endDate ? value : \"Fecha de mantenimiento\"}</p>\n        <ChevronDownIcon className=\"w-4 h-4 ml-1\" />\n      </button>\n    );\n  });\n\n  return (\n    <div>\n      <h1 className=\"mt-10 mb-6 text-xl font-objetive-bold\">\n        Listado de equipos\n      </h1>\n      <div className=\"flex justify-between mt-6 mb-14\">\n        <div className=\"flex items-center\">\n          <input\n            onChange={handleClickAllCheck}\n            type=\"checkbox\"\n            className=\"mb-1 bg-gray-400 border-2 rounded-sm input-check-downloadZip\"\n          />\n          <select\n            onChange={(e) => handleFiltroEmpresa(e.target.value)}\n            className=\"text-sm text-center border-none font-objetive-bold text-app-green-3 hover:cursor-pointer\"\n          >\n            <option value=\"\">Empresa a cargo</option>\n            {empresas.map((empresa) => {\n              return (\n                <option key={`empresa-${empresa}`} value={empresa}>\n                  {empresa}\n                </option>\n              );\n            })}\n          </select>\n        </div>\n        <div className=\"flex items-center\">\n          <select\n            onChange={(e) => handleFiltroTipo(e.target.value)}\n            className=\"text-sm text-center border-none font-objetive-bold text-app-green-3 hover:cursor-pointer\"\n          >\n            <option value=\"\">Tipo</option>\n            {tiposEquipos.map((equipo) => {\n              return (\n                <option key={`equipo-${equipo.id}`} value={equipo.id}>\n                  {equipo.name}\n                </option>\n              );\n            })}\n          </select>\n        </div>\n        <div className=\"flex items-center\">\n          <select\n            onChange={(e) => handleFiltroLinea(e.target.value)}\n            className=\"text-sm text-center border-none font-objetive-bold text-app-green-3 hover:cursor-pointer\"\n          >\n            <option value=\"\">Línea</option>\n            {responseLinea &&\n              responseLinea.map((linea) => {\n                return (\n                  <option key={`linea-${linea.id}`} value={linea.id}>\n                    {linea.name}\n                  </option>\n                );\n              })}\n          </select>\n        </div>\n        <div className=\"flex items-center\">\n          <select\n            onChange={(e) => handleFiltroEstado(e.target.value)}\n            className=\"w-40 text-sm text-center truncate border-none font-objetive-bold text-app-green-3 hover:cursor-pointer\"\n          >\n            <option value=\"\">Estado de equipo</option>\n            {states.map((state) => {\n              return (\n                <option key={`estado-${state}`} value={state}>\n                  {state}\n                </option>\n              );\n            })}\n          </select>\n        </div>\n        <div className=\"flex items-center\">\n          <DatePicker\n            selected={startDate}\n            onChange={onChangeDate}\n            selectsRange\n            startDate={startDate}\n            endDate={endDate}\n            customInput={<CustomInputDate />}\n          />\n        </div>\n        <div className=\"flex items-center mb-2\">\n          <button\n            onClick={handleClickDownloadZip}\n            className=\"relative px-10 py-2 text-sm rounded-full font-objetive-medium bg-app-green-1 text-app-green-3\"\n          >\n            <div className=\"absolute top-0 bottom-0 flex items-center -left-1\">\n              <DownloadIcon className=\"w-8 h-8 p-1 text-white rounded-full bg-app-green-3\" />\n            </div>\n            <p className=\"-mb-1\">Descargar .ZIP</p>\n          </button>\n        </div>\n      </div>\n      {data &&\n        data.map((user, index) => {\n          if (\n            index < maxCantRow * pagination &&\n            index >= pagination * maxCantRow - maxCantRow\n          ) {\n            return (\n              <Row\n                key={index + user.id}\n                user={user}\n                index={index}\n                isChecked={isAllEquip}\n                sendToTrash={sendToTrash}\n              />\n            );\n          }\n          return null;\n        })}\n    </div>\n  );\n};\n\nexport default Table;\n"]},"metadata":{},"sourceType":"module"}