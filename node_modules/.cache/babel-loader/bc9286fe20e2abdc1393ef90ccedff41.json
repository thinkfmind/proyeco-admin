{"ast":null,"code":"var _jsxFileName = \"/Users/augusto/Desktop/proyeco-front/src/helpers/chart.js\";\nimport { EyeIcon } from \"@heroicons/react/outline\";\nimport Chart from \"chart.js/auto\";\nimport ReactDOM from \"react-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst getOrCreateLegendList = (chart, id) => {\n  const legendContainer = document.getElementById(id);\n  let listContainer = legendContainer.querySelector('ul');\n\n  if (!listContainer) {\n    listContainer = document.createElement('ul');\n    listContainer.style.display = 'flex';\n    listContainer.style.flexDirection = 'row';\n    listContainer.style.margin = 0;\n    listContainer.style.padding = 0;\n    legendContainer.appendChild(listContainer);\n  }\n\n  return listContainer;\n};\n\nexport const createChartCountBreackdown = (canvas, dataSet) => {\n  const data = {\n    labels: [\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\", \"11\", \"12\"],\n    datasets: [{\n      label: 'Mantenimiento correctivo',\n      data: dataSet.correctivo,\n      borderColor: \"rgb(48, 108, 103)\",\n      backgroundColor: \"rgb(48, 108, 103)\",\n      pointStyle: 'circle',\n      pointRadius: 3\n    }, {\n      label: 'Mantenimiento preventivo',\n      data: dataSet.preventivo,\n      borderColor: \"rgb(255, 177, 0)\",\n      backgroundColor: \"rgb(255, 177, 0)\",\n      pointStyle: 'circle',\n      pointRadius: 3\n    }, {\n      label: 'Averías',\n      data: dataSet.averias,\n      borderColor: \"rgb(239, 35, 60)\",\n      backgroundColor: \"rgb(239, 35, 60)\",\n      pointStyle: 'circle',\n      pointRadius: 3\n    }]\n  };\n  const htmlLegendPlugin = {\n    id: 'htmlLegend',\n\n    afterUpdate(chart, args, options) {\n      const ul = getOrCreateLegendList(chart, options.containerID); // Remove old legend items\n\n      while (ul.firstChild) {\n        ul.firstChild.remove();\n      } // Reuse the built-in legendItems generator\n\n\n      const items = chart.options.plugins.legend.labels.generateLabels(chart);\n      items.forEach(item => {\n        const li = document.createElement('li');\n        li.style.alignItems = 'center';\n        li.style.cursor = 'pointer';\n        li.style.display = 'flex';\n        li.style.flexDirection = 'row';\n        li.style.marginLeft = '10px';\n\n        li.onclick = () => {\n          const {\n            type\n          } = chart.config;\n\n          if (type === 'pie' || type === 'doughnut') {\n            // Pie and doughnut charts only have a single dataset and visibility is per item\n            chart.toggleDataVisibility(item.index);\n          } else {\n            chart.setDatasetVisibility(item.datasetIndex, !chart.isDatasetVisible(item.datasetIndex));\n          }\n\n          chart.update();\n        }; // Color box\n\n\n        const boxSpan = document.createElement('span'); // Text\n\n        const textContainer = document.createElement('p');\n        textContainer.style.color = item.fillStyle;\n        textContainer.style.margin = 0;\n        textContainer.style.padding = 0;\n        textContainer.style.textDecoration = item.hidden ? 'line-through' : '';\n        const text = document.createTextNode(item.text);\n        textContainer.appendChild(text);\n        li.appendChild(boxSpan);\n        li.appendChild(textContainer);\n        ul.appendChild(li);\n        ReactDOM.render( /*#__PURE__*/_jsxDEV(EyeIcon, {\n          className: \"w-4 h-4 mr-2\",\n          style: {\n            color: item.fillStyle\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this), boxSpan);\n      });\n    }\n\n  };\n  const config = {\n    type: 'line',\n    data: data,\n    options: {\n      responsive: true,\n      plugins: {\n        htmlLegend: {\n          containerID: 'legend-container'\n        },\n        legend: {\n          display: false\n        }\n      },\n      scales: {\n        x: {\n          title: {\n            display: true,\n            text: 'Meses 2021'\n          },\n          grid: {\n            display: false,\n            drawBorder: false,\n            drawOnChartArea: false,\n            drawTicks: false\n          }\n        },\n        y: {\n          title: {\n            display: true,\n            text: 'Averías',\n            position: 'top'\n          },\n          grid: {\n            drawBorder: false,\n            color: '#000000'\n          },\n          suggestedMin: 0,\n          suggestedMax: 25\n        }\n      }\n    },\n    plugins: [htmlLegendPlugin]\n  };\n  const ctx = canvas.getContext('2d');\n  return new Chart(ctx, config);\n};\nexport const createChartEquip = (canvas, averiasTotalesPerMonth) => {\n  const data = {\n    labels: [\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\", \"11\", \"12\"],\n    datasets: [{\n      label: 'Averías totales',\n      data: averiasTotalesPerMonth,\n      borderColor: \"rgb(239, 35, 60)\",\n      backgroundColor: \"rgb(239, 35, 60)\"\n    }]\n  };\n  const config = {\n    type: 'bar',\n    data: data,\n    options: {\n      responsive: true,\n      plugins: {\n        legend: {\n          display: false\n        },\n        title: {\n          display: false\n        }\n      },\n      scales: {\n        x: {\n          title: {\n            display: false\n          },\n          grid: {\n            display: false,\n            drawBorder: false,\n            drawOnChartArea: false,\n            drawTicks: false\n          }\n        },\n        y: {\n          title: {\n            display: false\n          },\n          grid: {\n            display: false,\n            drawBorder: false,\n            drawOnChartArea: false,\n            drawTicks: false\n          },\n          suggestedMin: 10,\n          suggestedMax: 40\n        }\n      }\n    }\n  };\n  const ctx = canvas.getContext('2d');\n  return new Chart(ctx, config);\n};\nexport const createChartRegisterBreackdown = (canvas, labels, dataSet) => {\n  function colorize() {\n    return ctx => {\n      var _ctx$parsed;\n\n      var v = ((_ctx$parsed = ctx.parsed) === null || _ctx$parsed === void 0 ? void 0 : _ctx$parsed.y) || 0;\n      var c = v <= 5 ? '#D5F5F4' : v <= 7 ? '#95CCCA' : v <= 10 ? '#6AB0AD' : v <= 13 ? '#306C67' : '#EF233C';\n      return c;\n    };\n  }\n\n  let dataResult = [];\n\n  for (const key in dataSet) {\n    if (Object.hasOwnProperty.call(dataSet, key)) {\n      const result = dataSet[key];\n      dataResult.push(result);\n    }\n  }\n\n  const data = {\n    labels,\n    datasets: [{\n      label: 'Averías',\n      data: dataResult,\n      borderColor: colorize(),\n      backgroundColor: colorize(),\n      borderRadius: 20,\n      borderSkipped: false\n    }]\n  };\n  const config = {\n    type: 'bar',\n    data: data,\n    options: {\n      responsive: true,\n      plugins: {\n        legend: {\n          display: false\n        },\n        title: {\n          display: false\n        }\n      },\n      scales: {\n        x: {\n          title: {\n            display: false\n          },\n          grid: {\n            display: false,\n            drawBorder: false,\n            drawOnChartArea: false,\n            drawTicks: false\n          }\n        },\n        y: {\n          title: {\n            display: false\n          },\n          grid: {\n            display: false,\n            drawBorder: false,\n            drawOnChartArea: false,\n            drawTicks: false\n          },\n          suggestedMin: 0,\n          suggestedMax: 20\n        }\n      }\n    }\n  };\n  const ctx = canvas.getContext('2d');\n  return new Chart(ctx, config);\n};\nexport const createChartRegisterMantent = (canvas, labels, dataSet) => {\n  function colorize() {\n    return ctx => {\n      var _ctx$parsed2;\n\n      var v = ((_ctx$parsed2 = ctx.parsed) === null || _ctx$parsed2 === void 0 ? void 0 : _ctx$parsed2.y) || 0;\n      var c = v <= 0 ? '#FEF6E2' : v <= 1 ? '#F8E19E' : v <= 2 ? '#F6D271' : v <= 3 ? '#FFB100' : '#C38802';\n      return c;\n    };\n  }\n\n  let dataResult = [];\n\n  for (const key in dataSet) {\n    if (Object.hasOwnProperty.call(dataSet, key)) {\n      const result = dataSet[key];\n      dataResult.push(result);\n    }\n  }\n\n  const data = {\n    labels,\n    datasets: [{\n      label: 'Mantenimientos',\n      data: dataResult,\n      borderColor: colorize(),\n      backgroundColor: colorize(),\n      borderRadius: 20,\n      borderSkipped: false\n    }]\n  };\n  const config = {\n    type: 'bar',\n    data: data,\n    options: {\n      indexAxis: 'y',\n      responsive: true,\n      plugins: {\n        legend: {\n          display: false\n        },\n        title: {\n          display: false\n        }\n      },\n      scales: {\n        x: {\n          title: {\n            display: true,\n            text: \"Mantenimientos\"\n          },\n          grid: {\n            display: false,\n            drawBorder: false,\n            drawOnChartArea: false,\n            drawTicks: false\n          },\n          suggestedMin: 0,\n          suggestedMax: 20\n        },\n        y: {\n          title: {\n            display: false\n          },\n          grid: {\n            display: false,\n            drawBorder: false,\n            drawOnChartArea: false,\n            drawTicks: false\n          }\n        }\n      }\n    }\n  };\n  const ctx = canvas.getContext('2d');\n  return new Chart(ctx, config);\n};","map":{"version":3,"sources":["/Users/augusto/Desktop/proyeco-front/src/helpers/chart.js"],"names":["EyeIcon","Chart","ReactDOM","getOrCreateLegendList","chart","id","legendContainer","document","getElementById","listContainer","querySelector","createElement","style","display","flexDirection","margin","padding","appendChild","createChartCountBreackdown","canvas","dataSet","data","labels","datasets","label","correctivo","borderColor","backgroundColor","pointStyle","pointRadius","preventivo","averias","htmlLegendPlugin","afterUpdate","args","options","ul","containerID","firstChild","remove","items","plugins","legend","generateLabels","forEach","item","li","alignItems","cursor","marginLeft","onclick","type","config","toggleDataVisibility","index","setDatasetVisibility","datasetIndex","isDatasetVisible","update","boxSpan","textContainer","color","fillStyle","textDecoration","hidden","text","createTextNode","render","responsive","htmlLegend","scales","x","title","grid","drawBorder","drawOnChartArea","drawTicks","y","position","suggestedMin","suggestedMax","ctx","getContext","createChartEquip","averiasTotalesPerMonth","createChartRegisterBreackdown","colorize","v","parsed","c","dataResult","key","Object","hasOwnProperty","call","result","push","borderRadius","borderSkipped","createChartRegisterMantent","indexAxis"],"mappings":"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","sourcesContent":["import { EyeIcon } from \"@heroicons/react/outline\";\nimport Chart from \"chart.js/auto\"\nimport ReactDOM from \"react-dom\";\n\nconst getOrCreateLegendList = (chart, id) => {\n\tconst legendContainer = document.getElementById(id);\n\tlet listContainer = legendContainer.querySelector('ul');\n\n\tif (!listContainer) {\n\t\tlistContainer = document.createElement('ul');\n\t\tlistContainer.style.display = 'flex';\n\t\tlistContainer.style.flexDirection = 'row';\n\t\tlistContainer.style.margin = 0;\n\t\tlistContainer.style.padding = 0;\n\n\t\tlegendContainer.appendChild(listContainer);\n\t}\n\n\treturn listContainer;\n};\n\nexport const createChartCountBreackdown = (canvas, dataSet) => {\n\tconst data = {\n\t\tlabels: [\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\", \"11\", \"12\"],\n\t\tdatasets: [\n\t\t\t{\n\t\t\t\tlabel: 'Mantenimiento correctivo',\n\t\t\t\tdata: dataSet.correctivo,\n\t\t\t\tborderColor: \"rgb(48, 108, 103)\",\n\t\t\t\tbackgroundColor: \"rgb(48, 108, 103)\",\n\t\t\t\tpointStyle: 'circle',\n\t\t\t\tpointRadius: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Mantenimiento preventivo',\n\t\t\t\tdata: dataSet.preventivo,\n\t\t\t\tborderColor: \"rgb(255, 177, 0)\",\n\t\t\t\tbackgroundColor: \"rgb(255, 177, 0)\",\n\t\t\t\tpointStyle: 'circle',\n        pointRadius: 3,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Averías',\n\t\t\t\tdata: dataSet.averias,\n\t\t\t\tborderColor: \"rgb(239, 35, 60)\",\n\t\t\t\tbackgroundColor: \"rgb(239, 35, 60)\",\n\t\t\t\tpointStyle: 'circle',\n        pointRadius: 3,\n\t\t\t},\n\t\t]\n\t};\n\n\tconst htmlLegendPlugin = {\n\t\tid: 'htmlLegend',\n\t\tafterUpdate(chart, args, options) {\n\t\t\tconst ul = getOrCreateLegendList(chart, options.containerID);\n\n\t\t\t// Remove old legend items\n\t\t\twhile (ul.firstChild) {\n\t\t\t\tul.firstChild.remove();\n\t\t\t}\n\n\t\t\t// Reuse the built-in legendItems generator\n\t\t\tconst items = chart.options.plugins.legend.labels.generateLabels(chart);\n\n\t\t\titems.forEach(item => {\n\t\t\t\tconst li = document.createElement('li');\n\t\t\t\tli.style.alignItems = 'center';\n\t\t\t\tli.style.cursor = 'pointer';\n\t\t\t\tli.style.display = 'flex';\n\t\t\t\tli.style.flexDirection = 'row';\n\t\t\t\tli.style.marginLeft = '10px';\n\n\t\t\t\tli.onclick = () => {\n\t\t\t\t\tconst {type} = chart.config;\n\t\t\t\t\tif (type === 'pie' || type === 'doughnut') {\n\t\t\t\t\t\t// Pie and doughnut charts only have a single dataset and visibility is per item\n\t\t\t\t\t\tchart.toggleDataVisibility(item.index);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tchart.setDatasetVisibility(item.datasetIndex, !chart.isDatasetVisible(item.datasetIndex));\n\t\t\t\t\t}\n\t\t\t\t\tchart.update();\n\t\t\t\t};\n\n\t\t\t\t// Color box\n\t\t\t\tconst boxSpan = document.createElement('span');\n\t\t\t\t// Text\n\t\t\t\tconst textContainer = document.createElement('p');\n\t\t\t\ttextContainer.style.color = item.fillStyle;\n\t\t\t\ttextContainer.style.margin = 0;\n\t\t\t\ttextContainer.style.padding = 0;\n\t\t\t\ttextContainer.style.textDecoration = item.hidden ? 'line-through' : '';\n\n\t\t\t\tconst text = document.createTextNode(item.text);\n\t\t\t\ttextContainer.appendChild(text)\n\n\t\t\t\tli.appendChild(boxSpan);\n\t\t\t\tli.appendChild(textContainer);\n\t\t\t\tul.appendChild(li);\n\n\t\t\t\tReactDOM.render(<EyeIcon className=\"w-4 h-4 mr-2\" style={{ color: item.fillStyle }} />, boxSpan)\n\t\t\t});\n\t\t}\n\t};\n\n\tconst config = {\n\t\ttype: 'line',\n\t\tdata: data,\n\t\toptions: {\n\t\t\tresponsive: true,\n\t\t\tplugins: {\n\t\t\t\thtmlLegend: {\n\t\t\t\t\tcontainerID: 'legend-container',\n\t\t\t\t},\n\t\t\t\tlegend: {\n\t\t\t\t\tdisplay: false,\n\t\t\t\t}\n\t\t\t},\n\t\t\tscales: {\n\t\t\t\tx: {\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\ttext: 'Meses 2021'\n\t\t\t\t\t},\n\t\t\t\t\tgrid: {\n\t\t\t\t\t\tdisplay: false,\n\t\t\t\t\t\tdrawBorder: false,\n\t\t\t\t\t\tdrawOnChartArea: false,\n\t\t\t\t\t\tdrawTicks: false,\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ty: {\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\ttext: 'Averías',\n\t\t\t\t\t\tposition: 'top'\n\t\t\t\t\t},\n\t\t\t\t\tgrid: {\n\t\t\t\t\t\tdrawBorder: false,\n\t\t\t\t\t\tcolor: '#000000'\n\t\t\t\t\t},\n\t\t\t\t\tsuggestedMin: 0,\n\t\t\t\t\tsuggestedMax: 25\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tplugins: [htmlLegendPlugin],\n\t};\n\n\tconst ctx = canvas.getContext('2d');\n\treturn new Chart(ctx, config)\n}\n\nexport const createChartEquip = (canvas, averiasTotalesPerMonth) => {\n\tconst data = {\n\t\tlabels: [\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\", \"11\", \"12\"],\n\t\tdatasets: [\n\t\t\t{\n\t\t\t\tlabel: 'Averías totales',\n\t\t\t\tdata: averiasTotalesPerMonth,\n\t\t\t\tborderColor: \"rgb(239, 35, 60)\",\n\t\t\t\tbackgroundColor: \"rgb(239, 35, 60)\"\n\t\t\t}\n\t\t]\n\t};\n\n\tconst config = {\n\t\ttype: 'bar',\n\t\tdata: data,\n\t\toptions: {\n\t\t\tresponsive: true,\n\t\t\tplugins: {\n\t\t\t\tlegend: {\n\t\t\t\t\tdisplay: false,\n\t\t\t\t},\n\t\t\t\ttitle: {\n\t\t\t\t\tdisplay: false,\n\t\t\t\t}\n\t\t\t},\n\t\t\tscales: {\n\t\t\t\tx: {\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\tgrid: {\n\t\t\t\t\t\tdisplay: false,\n\t\t\t\t\t\tdrawBorder: false,\n\t\t\t\t\t\tdrawOnChartArea: false,\n\t\t\t\t\t\tdrawTicks: false,\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ty: {\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\tgrid: {\n\t\t\t\t\t\tdisplay: false,\n\t\t\t\t\t\tdrawBorder: false,\n\t\t\t\t\t\tdrawOnChartArea: false,\n\t\t\t\t\t\tdrawTicks: false,\n\t\t\t\t\t},\n\t\t\t\t\tsuggestedMin: 10,\n\t\t\t\t\tsuggestedMax: 40\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t};\n\n\tconst ctx = canvas.getContext('2d');\n\treturn new Chart(ctx, config)\n}\n\nexport const createChartRegisterBreackdown = (canvas, labels, dataSet) => {\n\tfunction colorize() {\n\t\treturn (ctx) => {\n\t\t\tvar v = ctx.parsed?.y || 0;\n\t\t\tvar c = v <= 5 ? '#D5F5F4'\n\t\t\t\t: v <= 7 ? '#95CCCA'\n\t\t\t\t: v <= 10 ? '#6AB0AD'\n\t\t\t\t: v <= 13 ? '#306C67'\n\t\t\t\t: '#EF233C';\n\n\t\t\treturn c\n\t\t};\n\t}\n\n\tlet dataResult = []\n\n\tfor (const key in dataSet) {\n\t\tif (Object.hasOwnProperty.call(dataSet, key)) {\n\t\t\tconst result = dataSet[key];\n\t\t\tdataResult.push(result)\n\t\t}\n\t}\n\n\tconst data = {\n\t\tlabels,\n\t\tdatasets: [\n\t\t\t{\n\t\t\t\tlabel: 'Averías',\n\t\t\t\tdata: dataResult,\n\t\t\t\tborderColor: colorize(),\n\t\t\t\tbackgroundColor: colorize(),\n\t\t\t\tborderRadius:  20,\n\t\t\t\tborderSkipped: false,\n\t\t\t}\n\t\t]\n\t};\n\n\tconst config = {\n\t\ttype: 'bar',\n\t\tdata: data,\n\t\toptions: {\n\t\t\tresponsive: true,\n\t\t\tplugins: {\n\t\t\t\tlegend: {\n\t\t\t\t\tdisplay: false,\n\t\t\t\t},\n\t\t\t\ttitle: {\n\t\t\t\t\tdisplay: false\n\t\t\t\t}\n\t\t\t},\n\t\t\tscales: {\n\t\t\t\tx: {\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\tgrid: {\n\t\t\t\t\t\tdisplay: false,\n\t\t\t\t\t\tdrawBorder: false,\n\t\t\t\t\t\tdrawOnChartArea: false,\n\t\t\t\t\t\tdrawTicks: false,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\ty: {\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\tgrid: {\n\t\t\t\t\t\tdisplay: false,\n\t\t\t\t\t\tdrawBorder: false,\n\t\t\t\t\t\tdrawOnChartArea: false,\n\t\t\t\t\t\tdrawTicks: false,\n\t\t\t\t\t},\n\t\t\t\t\tsuggestedMin: 0,\n\t\t\t\t\tsuggestedMax: 20\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tconst ctx = canvas.getContext('2d');\n\treturn new Chart(ctx, config)\n}\n\nexport const createChartRegisterMantent = (canvas, labels, dataSet) => {\n\tfunction colorize() {\n\t\treturn (ctx) => {\n\t\t\tvar v = ctx.parsed?.y || 0;\n\t\t\tvar c = v <= 0 ? '#FEF6E2'\n\t\t\t\t: v <= 1 ? '#F8E19E'\n\t\t\t\t: v <= 2 ? '#F6D271'\n\t\t\t\t: v <= 3 ? '#FFB100'\n\t\t\t\t: '#C38802';\n\n\t\t\treturn c\n\t\t};\n\t}\n\n\tlet dataResult = []\n\n\tfor (const key in dataSet) {\n\t\tif (Object.hasOwnProperty.call(dataSet, key)) {\n\t\t\tconst result = dataSet[key];\n\t\t\tdataResult.push(result)\n\t\t}\n\t}\n\n\tconst data = {\n\t\tlabels,\n\t\tdatasets: [\n\t\t\t{\n\t\t\t\tlabel: 'Mantenimientos',\n\t\t\t\tdata: dataResult,\n\t\t\t\tborderColor: colorize(),\n\t\t\t\tbackgroundColor: colorize(),\n\t\t\t\tborderRadius:  20,\n\t\t\t\tborderSkipped: false,\n\t\t\t}\n\t\t]\n\t};\n\n\tconst config = {\n\t\ttype: 'bar',\n\t\tdata: data,\n\t\toptions: {\n\t\t\tindexAxis: 'y',\n\t\t\tresponsive: true,\n\t\t\tplugins: {\n\t\t\t\tlegend: {\n\t\t\t\t\tdisplay: false,\n\t\t\t\t},\n\t\t\t\ttitle: {\n\t\t\t\t\tdisplay: false,\n\t\t\t\t}\n\t\t\t},\n\t\t\tscales: {\n\t\t\t\tx: {\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\ttext: \"Mantenimientos\"\n\t\t\t\t\t},\n\t\t\t\t\tgrid: {\n\t\t\t\t\t\tdisplay: false,\n\t\t\t\t\t\tdrawBorder: false,\n\t\t\t\t\t\tdrawOnChartArea: false,\n\t\t\t\t\t\tdrawTicks: false,\n\t\t\t\t\t},\n\t\t\t\t\tsuggestedMin: 0,\n\t\t\t\t\tsuggestedMax: 20\n\t\t\t\t},\n\t\t\t\ty: {\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t},\n\t\t\t\t\tgrid: {\n\t\t\t\t\t\tdisplay: false,\n\t\t\t\t\t\tdrawBorder: false,\n\t\t\t\t\t\tdrawOnChartArea: false,\n\t\t\t\t\t\tdrawTicks: false,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tconst ctx = canvas.getContext('2d');\n\treturn new Chart(ctx, config)\n}"]},"metadata":{},"sourceType":"module"}