{"ast":null,"code":"var _jsxFileName = \"/Users/augusto/Desktop/proyeco-front/src/views/equipment/activity/create.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState, forwardRef } from \"react\";\nimport axios from \"axios\";\nimport toast, { Toaster } from \"react-hot-toast\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { ChevronLeftIcon, CalendarIcon } from \"@heroicons/react/outline\";\nimport InputDataList from \"../../../components/form/textInput/datalist\";\nimport { useSelector } from \"react-redux\";\nimport NumberPick from \"../../../components/form/numberPick\";\nimport ItemSelectorWithIcon from \"../../../components/form/itemSelectorWithIcon\";\nimport TextInput from \"../../../components/form/textInput\";\nimport Navbar from \"../../../@app/navbar\";\nimport DatePicker from \"react-datepicker\";\nimport Table from \"./table\";\nimport Alert from \"../../../components/alert\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { backendUrl } from \"../../../config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst EquipmentCreate = () => {\n  _s();\n\n  const userSelector = useSelector(store => store.user);\n  const [data, setData] = useState([]);\n  const [nameEquipo, setNameEquipo] = useState(\"\");\n  const [nameEquipoError, setNameEquipoError] = useState(false);\n  const [linea, setLinea] = useState(\"\");\n  const [lineaError, setLineaError] = useState(false);\n  const [estacion, setEstacion] = useState(\"\");\n  const [estacionError, setEstacionError] = useState(false);\n  const [empresa, setEmpresa] = useState(\"\");\n  const [empresaId, setEmpresaId] = useState(\"\");\n  const [empresaError, setEmpresaError] = useState(false);\n  const [dataLineas, setDataLineas] = useState([]);\n  const [dataEquipos, setDataEquipos] = useState([]);\n  const [dataEstaciones, setDataEstaciones] = useState([]);\n  const [estado, setEstado] = useState(\"Mantenimiento preventivo\");\n  const [detalle, setDetalle] = useState(\"\");\n  const [dataListEquipo, setDataListEquipo] = useState([]);\n  const [days, setDays] = useState(1);\n  const [detalleError, setDetalleError] = useState(\"\");\n  const [startDate, setStartDate] = useState(new Date());\n  const [successAlert, setSuccessAlert] = useState(false);\n  let history = useHistory();\n\n  const onChangeDetalles = value => {\n    setDetalle(value);\n    setDetalleError(false);\n  };\n\n  const onChangeNameEquipo = value => {\n    setNameEquipo(value);\n    setNameEquipoError(false);\n    const result = dataEquipos.filter(equipo => {\n      return equipo.identificacion === value;\n    });\n    setEmpresa(result.length > 0 ? result[0].empresa.name : \"\");\n    setEmpresaId(result.length > 0 ? result[0].empresa.id : \"\");\n  };\n\n  const handleDays = value => {\n    setDays(value);\n  };\n\n  const ExampleCustomInput = /*#__PURE__*/forwardRef((_ref, ref) => {\n    let {\n      value,\n      onClick\n    } = _ref;\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"flex justify-between pt-4 pb-3 pl-6 pr-2 bg-white border border-gray-300 rounded-full font-objetive-medium sm:text-sm\",\n      onClick: onClick,\n      ref: ref,\n      children: [value, \" \", /*#__PURE__*/_jsxDEV(CalendarIcon, {\n        className: \"w-5 h-5 pb-1 ml-8 mr-2 text-gray-700\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }, this);\n  });\n\n  const successAlertHandler = () => {\n    setSuccessAlert(true);\n    setTimeout(() => {\n      setSuccessAlert(false);\n      history.push(\"/equipment/activity\");\n    }, 1500);\n  };\n\n  const onSubmit = async () => {\n    const toastLoading = toast.loading(\"Cargando...\");\n    let errNameEquipo = false;\n    let errLinea = false;\n    let errEstacion = false;\n    let errEmpresa = false;\n\n    if (nameEquipo.length < 1) {\n      setNameEquipoError(true);\n      errNameEquipo = true;\n    }\n\n    if (linea.length < 1) {\n      setLineaError(true);\n      errLinea = true;\n    }\n\n    if (estacion.length < 1) {\n      setEstacionError(true);\n      errEstacion = true;\n    }\n\n    if (empresa.length < 1) {\n      setEmpresaError(true);\n      errEmpresa = true;\n    }\n\n    if (!errNameEquipo && !errEmpresa & !errLinea && !errEstacion) {\n      try {\n        await axios({\n          method: \"POST\",\n          url: `${backendUrl}/actividad`,\n          data: {\n            empresa: empresaId,\n            equipo: nameEquipo,\n            linea: linea,\n            estacion: estacion,\n            tipo: estado,\n            detalles: detalle,\n            fecha: startDate,\n            dias: days\n          },\n          headers: {\n            Authorization: `Bearer ${userSelector.user.jwtToken}`\n          }\n        });\n        setNameEquipo(\"\");\n        setLinea(\"\");\n        setEstacion(\"\");\n        setEmpresa(\"\");\n        setDays(1);\n        setDetalle(\"\");\n        toast.dismiss(toastLoading);\n        successAlertHandler();\n      } catch {\n        toast.dismiss(toastLoading);\n        toast.error(\"Error al crear el registro!\");\n      }\n    }\n\n    toast.dismiss(toastLoading);\n  };\n\n  const [refreshEstacion, setRefreshEstacion] = useState(\"\");\n\n  const handleSelectLinea = value => {\n    setEmpresa(\"\");\n    const result = dataEstaciones.filter(estacion => {\n      return estacion.linea === value;\n    });\n    setLinea(value);\n    setEstacion(\"\");\n    setRefreshEstacion(result);\n  };\n\n  const handleSelectEstacion = value => {\n    setEstacion(value);\n    setNameEquipo(\"\");\n    const result = dataEquipos.filter(equipo => {\n      return equipo.estacion.id === value;\n    });\n    setDataListEquipo(result);\n  };\n\n  const dumb = () => {};\n\n  const sendToTrash = async id => {\n    const toastLoading = toast.loading(\"Cargando...\");\n\n    try {\n      await axios({\n        method: \"PUT\",\n        url: `${backendUrl}/actividad/trash/${id}`,\n        data: {\n          state: true\n        },\n        headers: {\n          Authorization: `Bearer ${userSelector.user.jwtToken}`\n        }\n      });\n      getActivityData();\n      toast.dismiss(toastLoading);\n      toast.success(\"Registro enviado a la papelera!\");\n    } catch {\n      toast.dismiss(toastLoading);\n      toast.error(\"Error al enviar a la papelera!\");\n    }\n  };\n\n  const [activityData, setActivityData] = useState([]);\n\n  const getActivityData = async () => {\n    const toastLoading = toast.loading(\"Cargando...\");\n\n    try {\n      const res = await axios.get(`${backendUrl}/actividad`, {\n        headers: {\n          Authorization: `Bearer ${userSelector.user.jwtToken}`\n        }\n      });\n      setActivityData(res.data);\n      toast.dismiss(toastLoading);\n    } catch (e) {\n      toast.dismiss(toastLoading);\n    }\n  };\n\n  const consult = async () => {\n    const toastLoading = toast.loading(\"Cargando...\");\n\n    try {\n      const res = await axios.get(`${backendUrl}/user/`, {\n        headers: {\n          Authorization: `Bearer ${userSelector.user.jwtToken}`\n        }\n      });\n      const res2 = await axios.get(`${backendUrl}/linea/`, {\n        headers: {\n          Authorization: `Bearer ${userSelector.user.jwtToken}`\n        }\n      });\n      const res3 = await axios.get(`${backendUrl}/estacion/`, {\n        headers: {\n          Authorization: `Bearer ${userSelector.user.jwtToken}`\n        }\n      });\n      const res4 = await axios.get(`${backendUrl}/equipo/`, {\n        headers: {\n          Authorization: `Bearer ${userSelector.user.jwtToken}`\n        }\n      });\n      const res7 = await axios.get(`${backendUrl}/actividad`, {\n        headers: {\n          Authorization: `Bearer ${userSelector.user.jwtToken}`\n        }\n      });\n      setActivityData(res7.data);\n      const sanitize = res.data.filter(user => {\n        return user.role === \"Empresa\";\n      });\n      setData(sanitize);\n      setDataLineas(res2.data);\n      setDataEstaciones(res3.data);\n      setDataEquipos(res4.data);\n      toast.dismiss(toastLoading);\n    } catch {\n      toast.dismiss(toastLoading);\n      toast.error(\"Error al conectarse al servidor!\");\n    }\n  };\n\n  const inputRadioSet = (checked, estado) => {\n    if (checked) {\n      setEstado(estado);\n    }\n  };\n\n  useEffect(() => {\n    consult();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [successAlert ? /*#__PURE__*/_jsxDEV(Alert, {\n      text: \"Registro creado\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 23\n    }, this) : null, /*#__PURE__*/_jsxDEV(Toaster, {\n      position: \"top-right\",\n      reverseOrder: false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Navbar, {\n      title: \"Registro de mantenimiento\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-20 pb-20 vp-desktop\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-end justify-end mt-14\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/equipment/activity\",\n            children: /*#__PURE__*/_jsxDEV(ChevronLeftIcon, {\n              className: \"w-5 h-5 mr-2 text-gray-700\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            className: \"font-objetive-medium\",\n            to: \"/equipment/activity\",\n            children: \"Volver\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative w-full px-10 pt-10 pb-24 mt-6 bg-gray-100 rounded-3xl\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"mb-6 text-xl font-objetive-bold\",\n          children: \"Cargar nuevo registro de actividad\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 pr-6\",\n              children: /*#__PURE__*/_jsxDEV(ItemSelectorWithIcon, {\n                data: dataLineas,\n                text: \"L\\xEDnea\",\n                eventHandler: handleSelectLinea,\n                value: linea\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 pr-6\",\n              children: /*#__PURE__*/_jsxDEV(ItemSelectorWithIcon, {\n                data: refreshEstacion,\n                text: \"Estacion\",\n                eventHandler: handleSelectEstacion,\n                value: estacion\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 pl-14\",\n            children: /*#__PURE__*/_jsxDEV(InputDataList, {\n              placeholder: \"Nombre del equipo\",\n              error: nameEquipoError,\n              eventHandler: onChangeNameEquipo,\n              disabled: estacion ? false : true,\n              data: dataListEquipo,\n              not: \"No hay equipos cargados en la estaci\\xF3n seleccionada\",\n              id: \"empresaselect\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"mt-10 mb-4 font-objetive-medium\",\n            children: \"Tipo de actividad para registrar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center mr-5 create-equipment\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                id: \"e1\",\n                onChange: e => {\n                  inputRadioSet(e.target.checked, \"Mantenimiento preventivo\");\n                },\n                name: \"push-notifications\",\n                defaultChecked: true,\n                className: \"w-3 h-3 text-gray-300 border-gray-900 rounded-full focus:ring-transparent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"e1\",\n                className: \"block pt-1 ml-2 text-sm text-gray-800 font-objetive-medium\",\n                children: \"Mantenimiento preventivo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center mr-5 create-equipment\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: e => {\n                  inputRadioSet(e.target.checked, \"Mantenimiento correctivo\");\n                },\n                type: \"radio\",\n                id: \"e2\",\n                name: \"push-notifications\",\n                className: \"w-3 h-3 text-gray-300 border-gray-900 rounded-full focus:ring-transparent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"e2\",\n                className: \"block pt-1 ml-2 text-sm text-gray-800 font-objetive-medium\",\n                children: \"Mantenimiento correctivo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center mr-5 create-equipment\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"e3\",\n                type: \"radio\",\n                name: \"push-notifications\",\n                onChange: e => {\n                  inputRadioSet(e.target.checked, \"Averías\");\n                },\n                className: \"w-3 h-3 text-gray-300 border-gray-900 rounded-full focus:ring-transparent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"e3\",\n                className: \"block pt-1 ml-2 text-sm text-gray-800 font-objetive-medium\",\n                children: \"Aver\\xEDas\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n          placeholder: \"Detalles de la actividad\",\n          eventHandler: onChangeDetalles,\n          error: detalleError,\n          value: detalle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between mt-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-2/5\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pl-2 mb-4 font-objetive-medium\",\n              children: \"Empresa a cargo del mantenimiento\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-60\",\n              children: /*#__PURE__*/_jsxDEV(TextInput, {\n                placeholder: \"Empresa\",\n                error: empresaError,\n                eventHandler: dumb,\n                value: empresa,\n                disabled: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-1/4 mr-10\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pl-2 mb-4 font-objetive-medium\",\n              children: \"Fecha de registro\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n              selected: startDate,\n              onChange: date => setStartDate(date),\n              customInput: /*#__PURE__*/_jsxDEV(ExampleCustomInput, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 30\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-2/4 mr-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pl-2 mb-4 font-objetive-medium\",\n              children: \"Cantidad de d\\xEDas que tomo el arreglo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-32\",\n              children: /*#__PURE__*/_jsxDEV(NumberPick, {\n                eventHandler: handleDays,\n                value: days\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onSubmit,\n          type: \"button\",\n          className: \"absolute inline-flex items-center px-4 pt-4 pb-3 text-base text-white border border-transparent rounded-full shadow-sm bottom--20 right-32 font-objetive-medium bg-app-purple-btn hover:bg-red-500 focus:outline-none \",\n          children: \"Guardar y cargar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-10\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-20\",\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            data: activityData,\n            sendToTrash: sendToTrash\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(EquipmentCreate, \"+D5D4CzBvrqfa7QoWMObV0cbvJA=\", false, function () {\n  return [useSelector, useHistory];\n});\n\n_c = EquipmentCreate;\nexport default EquipmentCreate;\n\nvar _c;\n\n$RefreshReg$(_c, \"EquipmentCreate\");","map":{"version":3,"sources":["/Users/augusto/Desktop/proyeco-front/src/views/equipment/activity/create.js"],"names":["useEffect","useState","forwardRef","axios","toast","Toaster","Link","useHistory","ChevronLeftIcon","CalendarIcon","InputDataList","useSelector","NumberPick","ItemSelectorWithIcon","TextInput","Navbar","DatePicker","Table","Alert","backendUrl","EquipmentCreate","userSelector","store","user","data","setData","nameEquipo","setNameEquipo","nameEquipoError","setNameEquipoError","linea","setLinea","lineaError","setLineaError","estacion","setEstacion","estacionError","setEstacionError","empresa","setEmpresa","empresaId","setEmpresaId","empresaError","setEmpresaError","dataLineas","setDataLineas","dataEquipos","setDataEquipos","dataEstaciones","setDataEstaciones","estado","setEstado","detalle","setDetalle","dataListEquipo","setDataListEquipo","days","setDays","detalleError","setDetalleError","startDate","setStartDate","Date","successAlert","setSuccessAlert","history","onChangeDetalles","value","onChangeNameEquipo","result","filter","equipo","identificacion","length","name","id","handleDays","ExampleCustomInput","ref","onClick","successAlertHandler","setTimeout","push","onSubmit","toastLoading","loading","errNameEquipo","errLinea","errEstacion","errEmpresa","method","url","tipo","detalles","fecha","dias","headers","Authorization","jwtToken","dismiss","error","refreshEstacion","setRefreshEstacion","handleSelectLinea","handleSelectEstacion","dumb","sendToTrash","state","getActivityData","success","activityData","setActivityData","res","get","e","consult","res2","res3","res4","res7","sanitize","role","inputRadioSet","checked","target","date"],"mappings":"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","sourcesContent":["import { useEffect, useState, forwardRef } from \"react\";\nimport axios from \"axios\";\nimport toast, { Toaster } from \"react-hot-toast\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { ChevronLeftIcon, CalendarIcon } from \"@heroicons/react/outline\";\nimport InputDataList from \"../../../components/form/textInput/datalist\";\nimport { useSelector } from \"react-redux\";\nimport NumberPick from \"../../../components/form/numberPick\";\nimport ItemSelectorWithIcon from \"../../../components/form/itemSelectorWithIcon\";\nimport TextInput from \"../../../components/form/textInput\";\nimport Navbar from \"../../../@app/navbar\";\nimport DatePicker from \"react-datepicker\";\nimport Table from \"./table\";\nimport Alert from \"../../../components/alert\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { backendUrl } from \"../../../config\";\n\nconst EquipmentCreate = () => {\n  const userSelector = useSelector((store) => store.user);\n  const [data, setData] = useState([]);\n  const [nameEquipo, setNameEquipo] = useState(\"\");\n  const [nameEquipoError, setNameEquipoError] = useState(false);\n  const [linea, setLinea] = useState(\"\");\n  const [lineaError, setLineaError] = useState(false);\n  const [estacion, setEstacion] = useState(\"\");\n  const [estacionError, setEstacionError] = useState(false);\n  const [empresa, setEmpresa] = useState(\"\");\n  const [empresaId, setEmpresaId] = useState(\"\");\n  const [empresaError, setEmpresaError] = useState(false);\n  const [dataLineas, setDataLineas] = useState([]);\n  const [dataEquipos, setDataEquipos] = useState([]);\n  const [dataEstaciones, setDataEstaciones] = useState([]);\n  const [estado, setEstado] = useState(\"Mantenimiento preventivo\");\n  const [detalle, setDetalle] = useState(\"\");\n  const [dataListEquipo, setDataListEquipo] = useState([]);\n  const [days, setDays] = useState(1);\n  const [detalleError, setDetalleError] = useState(\"\");\n  const [startDate, setStartDate] = useState(new Date());\n  const [successAlert, setSuccessAlert] = useState(false);\n\n  let history = useHistory();\n\n  const onChangeDetalles = (value) => {\n    setDetalle(value);\n    setDetalleError(false);\n  };\n\n  const onChangeNameEquipo = (value) => {\n    setNameEquipo(value);\n    setNameEquipoError(false);\n\n    const result = dataEquipos.filter((equipo) => {\n      return equipo.identificacion === value;\n    });\n\n    setEmpresa(result.length > 0 ? result[0].empresa.name : \"\");\n    setEmpresaId(result.length > 0 ? result[0].empresa.id : \"\");\n  };\n\n  const handleDays = (value) => {\n    setDays(value);\n  };\n\n  const ExampleCustomInput = forwardRef(({ value, onClick }, ref) => (\n    <button\n      className=\"flex justify-between pt-4 pb-3 pl-6 pr-2 bg-white border border-gray-300 rounded-full font-objetive-medium sm:text-sm\"\n      onClick={onClick}\n      ref={ref}\n    >\n      {value} <CalendarIcon className=\"w-5 h-5 pb-1 ml-8 mr-2 text-gray-700\" />\n    </button>\n  ));\n\n  const successAlertHandler = () => {\n    setSuccessAlert(true);\n    setTimeout(() => {\n      setSuccessAlert(false);\n      history.push(\"/equipment/activity\");\n    }, 1500);\n  };\n\n  const onSubmit = async () => {\n    const toastLoading = toast.loading(\"Cargando...\");\n    let errNameEquipo = false;\n    let errLinea = false;\n    let errEstacion = false;\n    let errEmpresa = false;\n\n    if (nameEquipo.length < 1) {\n      setNameEquipoError(true);\n      errNameEquipo = true;\n    }\n\n    if (linea.length < 1) {\n      setLineaError(true);\n      errLinea = true;\n    }\n\n    if (estacion.length < 1) {\n      setEstacionError(true);\n      errEstacion = true;\n    }\n\n    if (empresa.length < 1) {\n      setEmpresaError(true);\n      errEmpresa = true;\n    }\n\n    if (!errNameEquipo && !errEmpresa & !errLinea && !errEstacion) {\n      try {\n        await axios({\n          method: \"POST\",\n          url: `${backendUrl}/actividad`,\n          data: {\n            empresa: empresaId,\n            equipo: nameEquipo,\n            linea: linea,\n            estacion: estacion,\n            tipo: estado,\n            detalles: detalle,\n            fecha: startDate,\n            dias: days,\n          },\n          headers: { Authorization: `Bearer ${userSelector.user.jwtToken}` },\n        });\n        setNameEquipo(\"\");\n        setLinea(\"\");\n        setEstacion(\"\");\n        setEmpresa(\"\");\n        setDays(1);\n        setDetalle(\"\");\n\n        toast.dismiss(toastLoading);\n        successAlertHandler();\n      } catch {\n        toast.dismiss(toastLoading);\n        toast.error(\"Error al crear el registro!\");\n      }\n    }\n    toast.dismiss(toastLoading);\n  };\n\n  const [refreshEstacion, setRefreshEstacion] = useState(\"\");\n  const handleSelectLinea = (value) => {\n    setEmpresa(\"\");\n    const result = dataEstaciones.filter((estacion) => {\n      return estacion.linea === value;\n    });\n    setLinea(value);\n    setEstacion(\"\");\n    setRefreshEstacion(result);\n  };\n\n  const handleSelectEstacion = (value) => {\n    setEstacion(value);\n    setNameEquipo(\"\");\n    const result = dataEquipos.filter((equipo) => {\n      return equipo.estacion.id === value;\n    });\n    setDataListEquipo(result);\n  };\n\n  const dumb = () => {};\n\n  const sendToTrash = async (id) => {\n    const toastLoading = toast.loading(\"Cargando...\");\n    try {\n      await axios({\n        method: \"PUT\",\n        url: `${backendUrl}/actividad/trash/${id}`,\n        data: { state: true },\n        headers: {\n          Authorization: `Bearer ${userSelector.user.jwtToken}`,\n        },\n      });\n      getActivityData();\n      toast.dismiss(toastLoading);\n      toast.success(\"Registro enviado a la papelera!\");\n    } catch {\n      toast.dismiss(toastLoading);\n      toast.error(\"Error al enviar a la papelera!\");\n    }\n  };\n\n  const [activityData, setActivityData] = useState([]);\n  const getActivityData = async () => {\n    const toastLoading = toast.loading(\"Cargando...\");\n    try {\n      const res = await axios.get(`${backendUrl}/actividad`, {\n        headers: {\n          Authorization: `Bearer ${userSelector.user.jwtToken}`,\n        },\n      });\n      setActivityData(res.data);\n      toast.dismiss(toastLoading);\n    } catch (e) {\n      toast.dismiss(toastLoading);\n    }\n  };\n\n  const consult = async () => {\n    const toastLoading = toast.loading(\"Cargando...\");\n    try {\n      const res = await axios.get(`${backendUrl}/user/`, {\n        headers: {\n          Authorization: `Bearer ${userSelector.user.jwtToken}`,\n        },\n      });\n      const res2 = await axios.get(`${backendUrl}/linea/`, {\n        headers: {\n          Authorization: `Bearer ${userSelector.user.jwtToken}`,\n        },\n      });\n      const res3 = await axios.get(`${backendUrl}/estacion/`, {\n        headers: {\n          Authorization: `Bearer ${userSelector.user.jwtToken}`,\n        },\n      });\n      const res4 = await axios.get(`${backendUrl}/equipo/`, {\n        headers: {\n          Authorization: `Bearer ${userSelector.user.jwtToken}`,\n        },\n      });\n\n      const res7 = await axios.get(`${backendUrl}/actividad`, {\n        headers: {\n          Authorization: `Bearer ${userSelector.user.jwtToken}`,\n        },\n      });\n\n      setActivityData(res7.data);\n\n      const sanitize = res.data.filter((user) => {\n        return user.role === \"Empresa\";\n      });\n\n      setData(sanitize);\n      setDataLineas(res2.data);\n      setDataEstaciones(res3.data);\n      setDataEquipos(res4.data);\n      toast.dismiss(toastLoading);\n    } catch {\n      toast.dismiss(toastLoading);\n      toast.error(\"Error al conectarse al servidor!\");\n    }\n  };\n\n  const inputRadioSet = (checked, estado) => {\n    if (checked) {\n      setEstado(estado);\n    }\n  };\n\n  useEffect(() => {\n    consult();\n  }, []);\n\n  return (\n    <>\n      {successAlert ? <Alert text=\"Registro creado\" /> : null}\n      <Toaster position=\"top-right\" reverseOrder={false} />\n      <Navbar title=\"Registro de mantenimiento\" />\n      <div className=\"px-20 pb-20 vp-desktop\">\n        <div className=\"flex items-end justify-end mt-14\">\n          <div className=\"flex\">\n            <Link to=\"/equipment/activity\">\n              <ChevronLeftIcon className=\"w-5 h-5 mr-2 text-gray-700\" />\n            </Link>\n            <Link className=\"font-objetive-medium\" to=\"/equipment/activity\">\n              Volver\n            </Link>\n          </div>\n        </div>\n        <div className=\"relative w-full px-10 pt-10 pb-24 mt-6 bg-gray-100 rounded-3xl\">\n          <h1 className=\"mb-6 text-xl font-objetive-bold\">\n            Cargar nuevo registro de actividad\n          </h1>\n          <div className=\"flex\">\n            <div className=\"flex flex-1\">\n              <div className=\"flex-1 pr-6\">\n                <ItemSelectorWithIcon\n                  data={dataLineas}\n                  text=\"Línea\"\n                  eventHandler={handleSelectLinea}\n                  value={linea}\n                />\n              </div>\n              <div className=\"flex-1 pr-6\">\n                <ItemSelectorWithIcon\n                  data={refreshEstacion}\n                  text=\"Estacion\"\n                  eventHandler={handleSelectEstacion}\n                  value={estacion}\n                />\n              </div>\n            </div>\n            <div className=\"flex-1 pl-14\">\n              <InputDataList\n                placeholder=\"Nombre del equipo\"\n                error={nameEquipoError}\n                eventHandler={onChangeNameEquipo}\n                disabled={estacion ? false : true}\n                data={dataListEquipo}\n                not=\"No hay equipos cargados en la estación seleccionada\"\n                id=\"empresaselect\"\n              />\n            </div>\n          </div>\n\n          <div>\n            <h3 className=\"mt-10 mb-4 font-objetive-medium\">\n              Tipo de actividad para registrar\n            </h3>\n            <div className=\"flex mb-8\">\n              <div className=\"flex items-center mr-5 create-equipment\">\n                <input\n                  type=\"radio\"\n                  id=\"e1\"\n                  onChange={(e) => {\n                    inputRadioSet(e.target.checked, \"Mantenimiento preventivo\");\n                  }}\n                  name=\"push-notifications\"\n                  defaultChecked={true}\n                  className=\"w-3 h-3 text-gray-300 border-gray-900 rounded-full focus:ring-transparent\"\n                />\n                <label\n                  htmlFor=\"e1\"\n                  className=\"block pt-1 ml-2 text-sm text-gray-800 font-objetive-medium\"\n                >\n                  Mantenimiento preventivo\n                </label>\n              </div>\n              <div className=\"flex items-center mr-5 create-equipment\">\n                <input\n                  onChange={(e) => {\n                    inputRadioSet(e.target.checked, \"Mantenimiento correctivo\");\n                  }}\n                  type=\"radio\"\n                  id=\"e2\"\n                  name=\"push-notifications\"\n                  className=\"w-3 h-3 text-gray-300 border-gray-900 rounded-full focus:ring-transparent\"\n                />\n                <label\n                  htmlFor=\"e2\"\n                  className=\"block pt-1 ml-2 text-sm text-gray-800 font-objetive-medium\"\n                >\n                  Mantenimiento correctivo\n                </label>\n              </div>\n              <div className=\"flex items-center mr-5 create-equipment\">\n                <input\n                  id=\"e3\"\n                  type=\"radio\"\n                  name=\"push-notifications\"\n                  onChange={(e) => {\n                    inputRadioSet(e.target.checked, \"Averías\");\n                  }}\n                  className=\"w-3 h-3 text-gray-300 border-gray-900 rounded-full focus:ring-transparent\"\n                />\n                <label\n                  htmlFor=\"e3\"\n                  className=\"block pt-1 ml-2 text-sm text-gray-800 font-objetive-medium\"\n                >\n                  Averías\n                </label>\n              </div>\n            </div>\n          </div>\n\n          <TextInput\n            placeholder=\"Detalles de la actividad\"\n            eventHandler={onChangeDetalles}\n            error={detalleError}\n            value={detalle}\n          />\n\n          <div className=\"flex justify-between mt-8\">\n            <div className=\"w-2/5\">\n              <div className=\"pl-2 mb-4 font-objetive-medium\">\n                Empresa a cargo del mantenimiento\n              </div>\n              <div className=\"w-60\">\n                <TextInput\n                  placeholder=\"Empresa\"\n                  error={empresaError}\n                  eventHandler={dumb}\n                  value={empresa}\n                  disabled={true}\n                />\n              </div>\n            </div>\n            <div className=\"w-1/4 mr-10\">\n              <div className=\"pl-2 mb-4 font-objetive-medium\">\n                Fecha de registro\n              </div>\n              <DatePicker\n                selected={startDate}\n                onChange={(date) => setStartDate(date)}\n                customInput={<ExampleCustomInput />}\n              />\n            </div>\n\n            <div className=\"w-2/4 mr-4\">\n              <div className=\"pl-2 mb-4 font-objetive-medium\">\n                Cantidad de días que tomo el arreglo\n              </div>\n              <div className=\"w-32\">\n                <NumberPick eventHandler={handleDays} value={days} />\n              </div>\n            </div>\n          </div>\n\n          <button\n            onClick={onSubmit}\n            type=\"button\"\n            className=\"absolute inline-flex items-center px-4 pt-4 pb-3 text-base text-white border border-transparent rounded-full shadow-sm bottom--20 right-32 font-objetive-medium bg-app-purple-btn hover:bg-red-500 focus:outline-none \"\n          >\n            Guardar y cargar\n          </button>\n        </div>\n\n        <div className=\"mt-10\">\n          <div className=\"mt-20\">\n            <Table data={activityData} sendToTrash={sendToTrash} />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default EquipmentCreate;\n"]},"metadata":{},"sourceType":"module"}